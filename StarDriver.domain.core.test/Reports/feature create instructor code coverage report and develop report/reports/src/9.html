<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\royber manjarrez\RiderProjects\StarDriver\StarDriver.domain.core.test\ExamsTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections.Generic;
using NUnit.Framework;
using StarDriver.domain.core.Contracts;

namespace StarDriver.domain.core.test
{
    public class ExamsTest
    {
        [SetUp]
        public void SetUp()
        {
        }

        [Test]
        public void ExamResults()
        {
            var exam = new Exam(identification: 1, tittle: &quot;Examen 1&quot;, description: &quot;Examen de estado&quot;,dateRealization: new MyDate(&quot;01/09/2020&quot;),dateFinish: new MyDate(&quot;01/09/2020&quot;));
            GetQuestions().ForEach(delegate(Question question)
            {
                exam.AddQuestion(question);
            });
            exam.RespondQuestion(1, &quot;Option A&quot;);
            exam.RespondQuestion(2, &quot;Response&quot;);
            exam.RespondQuestion(3, &quot;Option A|Option C&quot;);
            Assert.AreEqual(exam.ExamResult(), exam.TotalScores());
        }
        
        [Test]
        public void ExamResultsResponsesFails()
        {
            var exam = new Exam(identification: 1, tittle: &quot;Examen 1&quot;, description: &quot;Examen de estado&quot;,dateRealization: new MyDate(&quot;01/09/2020&quot;),dateFinish: new MyDate(&quot;01/09/2020&quot;));
            GetQuestions().ForEach(delegate(Question question)
            {
                exam.AddQuestion(question);
            });
            exam.RespondQuestion(1, &quot;Option B&quot;);
            exam.RespondQuestion(2, &quot;Response&quot;);
            exam.RespondQuestion(3, &quot;Option A|Option C&quot;);
            var result = exam.ExamResult() &lt; exam.TotalScores();
            Assert.AreEqual(result, true);
        }

        [Test]
        public void ApprenticeDoneExam()
        {
            var apprentice = new Apprentice();
            var exam = new Exam(identification: 1, tittle: &quot;Examen 1&quot;, description: &quot;Examen de estado&quot;,dateRealization: new MyDate(&quot;01/09/2020&quot;),dateFinish: new MyDate(&quot;01/09/2020&quot;));
            GetQuestions().ForEach(delegate(Question question)
            {
                exam.AddQuestion(question);
            });
            exam.RespondQuestion(1, &quot;Option B&quot;);
            exam.RespondQuestion(2, &quot;Response&quot;);
            exam.RespondQuestion(3, &quot;Option A|Option C&quot;);
            var result = apprentice.AddExamAnswers(new QExamAnswers(1, apprentice, exam));
            Assert.AreEqual(&quot;Se agrego un examen respondido.&quot;, result);
        }
        
        [Test]
        public void GetExamResultOfApprentice()
        {
            var apprentice = new Apprentice();
            var exam = new Exam(identification: 1, tittle: &quot;Examen 1&quot;, description: &quot;Examen de estado&quot;,dateRealization: new MyDate(&quot;01/09/2020&quot;),dateFinish: new MyDate(&quot;01/09/2020&quot;));
            GetQuestions().ForEach(delegate(Question question)
            {
                exam.AddQuestion(question);
            });
            exam.RespondQuestion(1, &quot;Option A&quot;);
            exam.RespondQuestion(2, &quot;Response&quot;);
            exam.RespondQuestion(3, &quot;Option A|Option C&quot;);
            apprentice.AddExamAnswers(new QExamAnswers(1, apprentice, exam));
            apprentice.AddExamAnswers(new QExamAnswers(2, apprentice, exam));
            var examAnswer = apprentice.GetExamAnswers(2);
            Assert.AreEqual(examAnswer.TotalScores(), examAnswer.ExamResult());
        }
        
        [Test]
        public void ApprenticeDoneExamQuestionOuts()
        {
            var apprentice = new Apprentice();
            var exam = new Exam(identification: 1, tittle: &quot;Examen 1&quot;, description: &quot;Examen de estado&quot;,dateRealization: new MyDate(&quot;01/09/2020&quot;),dateFinish: new MyDate(&quot;01/09/2020&quot;));
            var result = apprentice.AddExamAnswers(new QExamAnswers(1, apprentice, exam));
            Assert.AreEqual(&quot;El examen no contiene preguntas&quot;, result);
        }
        
        private static List&lt;Question&gt; GetQuestions()
        {
            var options = new List&lt;string&gt; {&quot;Option A&quot;,&quot;Option B&quot;, &quot;Option C&quot;};
            const string answer = &quot;Option A&quot;;
            var question1 = new OnlyAnswer(
                content: &quot;Elija una de las siguientes opciones&quot;, 
                identification: 1, score: 2.1m, optionalImage:&quot;&quot;,
                answer: answer, options: options);
            var question2 = new Open(identification: 2, content: &quot;Elija una de las siguientes opciones&quot;, score: 2.7m, optionalImage: &quot;&quot;);
            var possibleAnswer = new List&lt;string&gt; {&quot;Option A&quot;, &quot;Option C&quot; };
            var question3 = new MultipleChoice(
                content: &quot;Elija una de las siguientes opciones&quot;, 
                identification: 3, score: 2.7m, optionalImage:&quot;&quot;, 
                options: options, possibleAnswer: possibleAnswer);
            return new List&lt;Question&gt;() { question1, question2, question3 };
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,1],[12,9,12,10,1],[16,9,16,10,1],[17,13,17,184,1],[18,13,19,13,1],[19,13,19,14,1],[19,14,20,17,1],[20,17,20,44,1],[20,44,21,13,1],[21,13,21,14,1],[21,14,21,16,1],[18,13,21,16,1],[22,13,22,49,1],[23,13,23,49,1],[24,13,24,58,1],[25,13,25,68,1],[26,9,26,10,1],[30,9,30,10,1],[31,13,31,184,1],[32,13,33,13,1],[33,13,33,14,1],[33,14,34,17,1],[34,17,34,44,1],[34,44,35,13,1],[35,13,35,14,1],[35,14,35,16,1],[32,13,35,16,1],[36,13,36,49,1],[37,13,37,49,1],[38,13,38,58,1],[39,13,39,65,1],[40,13,40,43,1],[41,9,41,10,1],[45,9,45,10,1],[46,13,46,47,1],[47,13,47,184,1],[48,13,49,13,1],[49,13,49,14,1],[49,14,50,17,1],[50,17,50,44,1],[50,44,51,13,1],[51,13,51,14,1],[51,14,51,16,1],[48,13,51,16,1],[52,13,52,49,1],[53,13,53,49,1],[54,13,54,58,1],[55,13,55,91,1],[56,13,56,72,1],[57,9,57,10,1],[61,9,61,10,1],[62,13,62,47,1],[63,13,63,184,1],[64,13,65,13,1],[65,13,65,14,1],[65,14,66,17,1],[66,17,66,44,1],[66,44,67,13,1],[67,13,67,14,1],[67,14,67,16,1],[64,13,67,16,1],[68,13,68,49,1],[69,13,69,49,1],[70,13,70,58,1],[71,13,71,78,1],[72,13,72,78,1],[73,13,73,59,1],[74,13,74,80,1],[75,9,75,10,1],[79,9,79,10,1],[80,13,80,47,1],[81,13,81,184,1],[82,13,82,91,1],[83,13,83,72,1],[84,9,84,10,1],[87,9,87,10,1],[88,13,88,80,1],[90,13,93,51,1],[94,13,94,138,1],[95,13,95,77,1],[96,13,99,67,1],[100,13,100,77,1],[101,9,101,10,1]]);
    </script>
  </body>
</html>